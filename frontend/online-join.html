<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.socket.io https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com; font-src 'self' https://cdnjs.cloudflare.com; connect-src 'self' ws://questionpourunchampion-backend.onrender.com wss://questionpourunchampion-backend.onrender.com https://questionpourunchampion-backend.onrender.com; img-src 'self' data: https://upload.wikimedia.org https://commons.wikimedia.org; https://cdn.socket.io"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Rejoindre une partie</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <section class="ecran actif" id="online-join">
      <div class="contenu">
        <header>
          <h1>Rejoindre une partie</h1>
          <p class="sous-titre">Entrez le code (ou scannez le QR code)</p>
        </header>

        <div class="separateur"></div>

        <div id="online-join-form">
          <div class="groupe-parametre">
            <label for="online-code-input">Code de la partie</label>
            <input
              id="online-code-input"
              type="text"
              inputmode="latin"
              autocomplete="one-time-code"
              placeholder="Ex: A1B2C3"
              style="text-transform: uppercase; letter-spacing: 0.2em;"
            />
          </div>

          <div class="groupe-parametre">
            <label for="online-name-input">Votre nom</label>
            <input id="online-name-input" type="text" placeholder="Votre pseudo" />
          </div>

          <div class="actions" style="gap: 12px;">
            <button id="btn-join-game" class="bouton bouton-principal">Rejoindre</button>
            <a class="bouton bouton-secondaire" href="online-home.html" style="text-decoration:none">Retour</a>
          </div>

          <p id="online-join-status" style="margin-top: 14px; opacity: 0.85;"></p>
        </div>

        <div id="online-game" style="display:none;">
          <div class="separateur"></div>

          <h2 style="margin-top:0;">Partie en cours</h2>

          <div id="online-question" class="caracteristique" style="padding: 16px;">
            <h3 id="online-question-text" style="margin:0;">En attente de la premi√®re question...</h3>
            <div style="display:flex; justify-content:center; margin-top: 12px;">
              <img id="online-question-image" alt="illustration" style="max-width: 100%; border-radius: 16px; display:none;" />
            </div>
          </div>

          <div class="separateur"></div>

          <div style="display:flex; justify-content:center;">
            <button id="btn-buzzer" class="bouton bouton-principal" style="min-width: 220px;">BUZZER</button>
          </div>

          <div id="online-answers" style="display:none; margin-top: 18px;"></div>

          <p id="online-timer" style="text-align:center; margin-top: 10px; opacity: 0.85;"></p>

          <div id="online-round-result" style="display:none; margin-top: 18px;"></div>
        </div>
      </div>
    </section>

    <script src="config.js"></script>
    <script src="https://questionpourunchampion-backend.onrender.com/socket.io/socket.io.js"></script>
    <script src="online-qrcode.js"></script>
    <script src="online.js"></script>
  </body>
</html>
