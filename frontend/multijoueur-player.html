<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mode Multijoueur - Joueur</title>
    <link rel="stylesheet" href="style.css" />

    <script src="config.js?v=20260119_4"></script>
<!-- Libs -->
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
  </head>
  <body data-multi-role="player">
    <section id="multijoueur" class="ecran actif">
      <div class="contenu">
        <h1 class="titre-principal">Mode Multijoueur</h1>
        <p class="sous-titre">Créez une partie ou rejoignez-en une. Tout le monde joue, chacun a son buzzer.</p>

        <div class="section multijoueur-section">
          <h2 class="titre-section">Créer une partie</h2>

          <div class="formulaire">
            <div class="champ">
              <label for="nom-createur">Votre nom</label>
              <input id="nom-createur" type="text" placeholder="Votre prénom" autocomplete="name" />
            </div>

            <div class="champ">
              <label for="nb-joueurs">Nombre de joueurs</label>
              <input id="nb-joueurs" type="number" min="2" max="4" value="2" />
            </div>

            <div class="champ">
              <label for="nb-questions">Nombre de questions</label>
              <input id="nb-questions" type="number" min="1" max="50" value="10" />
            </div>

            <div class="champ">
              <label for="temps-question">Temps par question (secondes)</label>
              <input id="temps-question" type="number" min="5" max="120" value="30" />
            </div>

            <button id="btn-creer-partie" class="bouton bouton-principal" type="button">Créer</button>
          </div>

          <!-- Salle créée : code + QR + attente joueurs -->
          <div id="zone-code-partie" class="hidden" style="margin-top: 16px">
            <p class="texte-secondaire">Code de la partie :</p>
            <div id="code-partie" class="code-partie">------</div>
            <div id="qr-code" class="qr-code-container" aria-label="QR code de connexion"></div>
            <p id="statut-joueurs" class="texte-secondaire"></p>
            <button id="btn-demarrer-partie" class="bouton bouton-secondaire" type="button">Démarrer</button>
          </div>

          <hr style="margin: 24px 0; opacity: 0.15" />

          <h2 class="titre-section">Rejoindre une partie</h2>

          <div class="formulaire">
            <div class="champ">
              <label for="nom-joueur">Votre nom</label>
              <input id="nom-joueur" type="text" placeholder="Votre prénom" autocomplete="name" />
            </div>

            <div class="champ">
              <label for="code-rejoindre">Code de la partie</label>
              <input id="code-rejoindre" type="text" maxlength="6" placeholder="6 CARACTÈRES" autocapitalize="characters" />
            </div>

            <button id="btn-rejoindre-partie" class="bouton bouton-principal" type="button">Rejoindre</button>
          </div>

          <a class="lien-retour" href="index.html">Retour à l'accueil</a>
        </div>

        <!-- Écran jeu joueur (téléphone) -->
        <div id="jeu-multijoueur" class="section hidden">
          <div class="entete-jeu">
            <span id="info-question-multi">Question 1/10</span>
            <div id="chrono-multijoueur" class="chrono">30</div>
          </div>

          <div class="question-container">
            <h2 id="question-multijoueur" class="question-texte">Question</h2>
          </div>

          <!-- Buzzer (style SOLO : bouton-buzzer) -->
          <div class="buzzers-container" id="buzzers-container-multi">
            <div class="buzzers-multijoueur">
              <div class="buzzers-grid-multi" id="grille-buzzers-multi"></div>
            </div>
            <p class="indication-buzzers" id="indication-buzz-multi">Appuyez pour buzzer.</p>
          </div>

          <!-- Options : apparaissent uniquement pour le joueur qui doit répondre -->
          <div id="ecran-reponse-multi" class="hidden">
            <div class="reponse-info">
              <strong id="nom-repondant-multi">Vous</strong> va répondre
            </div>
            <div class="options-reponse-multi" id="options-reponse-multi"></div>
          </div>

          <!-- Résultat (sur téléphone : minimal) -->
          <div id="resultat-joueur-multi" class="hidden resultat-joueur" aria-live="polite">
            <h2>Résultat</h2>
            <p id="resultat-joueur-correct" class="texte-secondaire"></p>
            <div class="illustration-container">
              <img id="resultat-joueur-image" alt="Illustration" loading="lazy" />
              <p id="resultat-joueur-description" class="illustration-description"></p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- IMPORTANT: ne pas charger script.js ici (dédié au SOLO, et il provoque des erreurs côté téléphone) -->
    <script src="socket-common.js"></script>
    <script src="config.js?v=20260119_4"></script>
    <script src="multijoueur.js?v=20260119_9"></script>
  </body>
</html>
